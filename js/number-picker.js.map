{"version":3,"sources":["../jsx/number-picker.js"],"names":["NumberPicker","React","createClass","propTypes","name","PropTypes","string","value","number","width","min","max","step","onChange","func","getInitialState","props","parseInt","handleClick","index","event","preventDefault","onRemoveSelectedItem","handleTextChange","target","setState","handleKeyDown","keyCode","handleAction","action","NaN","inputEl","ReactDOM","findDOMNode","refs","inputQuantity","state","isNaN","render","bind"],"mappings":"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","file":"number-picker.js","sourcesContent":["var NumberPicker = React.createClass({\r\n    propTypes:{\r\n        name : React.PropTypes.string,\r\n        value : React.PropTypes.number,\r\n        width: React.PropTypes.number,\r\n        min: React.PropTypes.number,\r\n        max: React.PropTypes.number,\r\n        step: React.PropTypes.number,\r\n        onChange: React.PropTypes.func\r\n    },\r\n    getInitialState: function(){\r\n        var value = (typeof this.props.value != 'undefined') ? parseInt(this.props.value) : 0;\r\n\r\n        return {\r\n          value : value\r\n        }\r\n    },\r\n    handleClick: function(index, event){\r\n        event.preventDefault();\r\n        this.props.onRemoveSelectedItem(index);\r\n    },\r\n    handleTextChange: function (event) {\r\n        var value = event.target.value;\r\n        value = parseInt(value);\r\n        if (value) {\r\n            this.setState({\r\n              value: value\r\n            });\r\n        }\r\n    },\r\n    handleKeyDown: function(event) {\r\n        if (event.keyCode == 38) {\r\n            this.handleAction('up');\r\n        }\r\n        if (event.keyCode == 40) {\r\n            this.handleAction('down');\r\n        }\r\n    },\r\n    handleAction: function(action) {\r\n        var step = (typeof this.props.step != 'undefined') ? parseInt(this.props.step) : 1;\r\n        var max = (typeof this.props.max != 'undefined') ? parseInt(this.props.max) : NaN;\r\n        var min = (typeof this.props.min != 'undefined') ? parseInt(this.props.min) : NaN;\r\n        var inputEl = ReactDOM.findDOMNode(this.refs.inputQuantity);\r\n\r\n\r\n        if (action == 'up') {\r\n            var value = this.state.value + step;\r\n\r\n            if (!isNaN(max) && value > max) {\r\n                value = max;\r\n            }\r\n\r\n            this.setState({\r\n              value: value\r\n            });\r\n\r\n            if (this.props.onChange) {\r\n\r\n                this.props.onChange(value, inputEl);\r\n            }\r\n        }\r\n        if (action == 'down') {\r\n            var value = this.state.value - step;\r\n            if (!isNaN(min) && value < min) {\r\n                value = min;\r\n            }\r\n\r\n            this.setState({\r\n              value: value\r\n            });\r\n\r\n            if (this.props.onChange) {\r\n                this.props.onChange(value, inputEl);\r\n            }\r\n        }\r\n\r\n    },\r\n    render: function(){\r\n        return (\r\n          <div className=\"mm-number-picker input-group\">\r\n            <input type=\"text\" value={this.state.value} ref=\"inputQuantity\" name={this.props.name} className=\"form-control\" onChange={this.handleTextChange} onKeyDown={this.handleKeyDown} />\r\n            <span className=\"input-group-btn\">\r\n                <button type=\"button\" className=\"btn btn-default btn-xs\" onClick={this.handleAction.bind(this, 'up')}><i className=\"fa fa-caret-up\"></i></button>\r\n                <button type=\"button\" className=\"btn btn-default btn-xs\" onClick={this.handleAction.bind(this, 'down')}><i className=\"fa fa-caret-down\"></i></button>\r\n            </span>\r\n\r\n          </div>\r\n        );\r\n    }\r\n});\r\n"]}